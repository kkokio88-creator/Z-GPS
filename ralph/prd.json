{
  "project": "Z-GPS",
  "branchName": "ralph/phase6-ux-testing",
  "description": "Phase 6 - UX Polish, Document I/O & Testing Infrastructure",
  "userStories": [
    {
      "id": "US-001",
      "title": "HashRouter를 BrowserRouter로 마이그레이션",
      "description": "사용자가 깔끔한 URL(/#/ 없는)을 사용할 수 있도록 HashRouter를 BrowserRouter로 전환한다.",
      "acceptanceCriteria": [
        "App.tsx에서 HashRouter를 BrowserRouter로 교체",
        "react-router-dom에서 BrowserRouter import",
        "기존 모든 라우트가 BrowserRouter에서 정상 동작",
        "해시(#/) 기반 URL 참조가 코드에 남아있지 않음",
        "Typecheck passes"
      ],
      "priority": 1,
      "passes": true,
      "notes": "완료: HashRouter→BrowserRouter 교체, import 변경, 해시 참조 0건. 빌드 통과."
    },
    {
      "id": "US-002",
      "title": "Sidebar NavLink 마이그레이션 + aria-current",
      "description": "Sidebar의 button+navigate 패턴을 NavLink로 전환하여 접근성을 개선한다.",
      "acceptanceCriteria": [
        "Sidebar.tsx에서 모든 네비게이션 버튼을 react-router-dom NavLink로 교체",
        "NavLink의 className 콜백으로 활성 상태 스타일 적용",
        "활성 NavLink에 aria-current='page' 자동 적용됨",
        "기존 useNavigate() 기반 onClick 네비게이션 제거",
        "Typecheck passes"
      ],
      "priority": 2,
      "passes": true,
      "notes": "완료: Button→NavLink 교체(메뉴4개+설정+로고), className/children 콜백, end prop, useLocation 제거. 빌드 통과."
    },
    {
      "id": "US-003",
      "title": "shadcn/ui Sheet 컴포넌트 설치",
      "description": "모바일 사이드바 드로어에 필요한 Sheet 컴포넌트를 설치한다.",
      "acceptanceCriteria": [
        "npx shadcn@latest add sheet 실행 (또는 수동으로 components/ui/sheet.tsx 생성)",
        "components/ui/sheet.tsx 파일이 존재하고 Sheet, SheetContent, SheetTrigger 등 export",
        "@radix-ui/react-dialog 의존성이 package.json에 존재 (Sheet이 사용)",
        "Typecheck passes"
      ],
      "priority": 3,
      "passes": true,
      "notes": "완료: components/ui/sheet.tsx 생성. dialog.tsx 패턴 일치(자체구현, radix 불필요). Sheet/SheetContent/SheetTrigger/SheetClose 등 export. 빌드 통과."
    },
    {
      "id": "US-004",
      "title": "MobileNav 컴포넌트 + 반응형 레이아웃",
      "description": "모바일에서 햄버거 메뉴로 사이드바를 열 수 있는 반응형 레이아웃을 구현한다.",
      "acceptanceCriteria": [
        "components/MobileNav.tsx 생성: 햄버거 버튼(md:hidden) + Sheet 드로어(왼쪽)",
        "Sheet 안에 Sidebar 네비게이션 항목 포함",
        "라우트 변경 시 Sheet 자동 닫힘",
        "App.tsx 레이아웃: 데스크톱 사이드바는 hidden md:block, 메인 콘텐츠는 md:ml-64 ml-0",
        "MobileNav는 md 미만에서만 표시",
        "Typecheck passes"
      ],
      "priority": 4,
      "passes": true,
      "notes": "완료: MobileNav.tsx 생성(햄버거+Sheet 드로어), Sidebar hidden md:flex, App.tsx ml-0 md:ml-64 pt-14 md:pt-0, 라우트 변경시 Sheet 자동닫힘. 빌드 통과."
    },
    {
      "id": "US-005",
      "title": "Dashboard 반응형 그리드 + shadcn Card 적용",
      "description": "Dashboard의 통계 카드를 shadcn Card로 교체하고 모바일 반응형 그리드를 적용한다.",
      "acceptanceCriteria": [
        "Hero 통계 영역: grid-cols-2 sm:grid-cols-3 md:grid-cols-5 반응형 적용",
        "주요 stat 카드를 shadcn Card(CardHeader+CardContent)로 교체",
        "액션 버튼들을 shadcn Button으로 교체",
        "모바일에서 가로 스크롤 없이 정상 표시",
        "Typecheck passes"
      ],
      "priority": 5,
      "passes": true,
      "notes": "완료: Hero grid-cols-2 sm:3 md:5, Card(유형분포/마감임박/지원현황), Button(동기화/스캔/일괄생성/전체보기), 빌드 통과."
    },
    {
      "id": "US-006",
      "title": "ExportModal shadcn/ui 마이그레이션",
      "description": "ExportModal의 버튼과 탭을 shadcn 컴포넌트로 교체한다.",
      "acceptanceCriteria": [
        "모든 raw <button>을 shadcn Button으로 교체",
        "탭 전환을 shadcn Tabs + TabsList + TabsContent로 교체",
        "PDF/DOCX/HWP 내보내기 버튼 기능 유지 (exportToPdf, exportToDocx, exportToHwp)",
        "isExporting 로딩 상태 유지",
        "Typecheck passes"
      ],
      "priority": 6,
      "passes": true,
      "notes": "완료: Tabs/TabsList/TabsTrigger/TabsContent로 탭 교체, Button(PDF/DOCX/HWP/닫기), isExporting 유지. 빌드 통과."
    },
    {
      "id": "US-007",
      "title": "ProgramExplorer shadcn Badge/Select 적용",
      "description": "ProgramExplorer의 필터와 뱃지를 shadcn 컴포넌트로 교체한다.",
      "acceptanceCriteria": [
        "프로그램 카테고리 뱃지를 shadcn Badge로 교체",
        "필터 드롭다운이 있다면 shadcn Select로 교체",
        "탭 네비게이션(전체/추천/관심 등)을 shadcn Tabs로 교체",
        "기존 필터링/정렬 기능 정상 동작",
        "Typecheck passes"
      ],
      "priority": 7,
      "passes": true,
      "notes": "완료: Tabs/TabsList/TabsTrigger로 탭 교체, Badge(추천 카운트), Button(새로고침/다시시도/URL추가/취소/추가), 빌드 통과."
    },
    {
      "id": "US-008",
      "title": "ProgramDetail shadcn Card/Badge 적용",
      "description": "ProgramDetail의 정보 카드와 뱃지를 shadcn 컴포넌트로 교체한다.",
      "acceptanceCriteria": [
        "공고 상세 정보 영역을 shadcn Card로 교체",
        "적합도/상태 뱃지를 shadcn Badge로 교체",
        "전략 생성 버튼을 shadcn Button으로 교체",
        "기존 데이터 표시 및 전략 생성 기능 정상 동작",
        "Typecheck passes"
      ],
      "priority": 8,
      "passes": true,
      "notes": "완료: Card(Executive Summary/탭콘텐츠), Badge(지원유형/적합도/탈락), Tabs(4개 탭), Button(뒤로가기/지원서 작성). 빌드 통과."
    },
    {
      "id": "US-009",
      "title": "BenefitTracker shadcn Card/Tabs/Table 적용",
      "description": "BenefitTracker의 KPI 카드, 탭, 데이터 테이블을 shadcn 컴포넌트로 교체한다.",
      "acceptanceCriteria": [
        "KPI 통계 카드를 shadcn Card로 교체",
        "탭 네비게이션을 shadcn Tabs로 교체",
        "혜택 데이터 테이블 영역에 shadcn Table 적용 (가능한 범위 내에서)",
        "스캔/필터/정렬 기능 정상 동작",
        "Typecheck passes"
      ],
      "priority": 9,
      "passes": false,
      "notes": "Wave 3 - 파일: components/benefits/ 하위 여러 파일"
    },
    {
      "id": "US-010",
      "title": "서버 DOCX 파싱 엔드포인트 추가",
      "description": "DOCX 파일을 업로드하면 텍스트/구조를 추출하는 서버 API를 만든다.",
      "acceptanceCriteria": [
        "server/package.json에 multer, mammoth 의존성 추가",
        "server/src/routes/documents.ts 신규 생성",
        "POST /api/documents/parse 엔드포인트: multipart/form-data로 .docx 수신",
        "mammoth로 DOCX → HTML/텍스트 변환 후 구조화된 JSON 반환",
        "비지원 파일(HWP, PDF)은 415 상태코드 + 안내 메시지 반환",
        "server/src/index.ts에 documents 라우터 등록",
        "Typecheck passes"
      ],
      "priority": 10,
      "passes": false,
      "notes": "Wave 2 - 파일: server/src/routes/documents.ts(신규), server/src/index.ts, server/package.json"
    },
    {
      "id": "US-011",
      "title": "LeftPanel 파일 업로드 UI",
      "description": "에디터 LeftPanel에 DOCX 드래그앤드롭 업로드 영역을 추가한다.",
      "acceptanceCriteria": [
        "components/editor/LeftPanel.tsx에 드래그앤드롭 업로드 영역 추가",
        ".docx 파일만 허용 (accept 속성 + 검증)",
        "업로드 시 POST /api/documents/parse 호출",
        "파싱 결과를 섹션 필드에 자동 채움 (콜백으로 부모에 전달)",
        "업로드 진행 상태 표시 (로딩 인디케이터)",
        "Typecheck passes"
      ],
      "priority": 11,
      "passes": false,
      "notes": "Wave 2 - US-010 의존. 파일: components/editor/LeftPanel.tsx"
    },
    {
      "id": "US-012",
      "title": "SectionCard에 Vault 피드백 버튼 추가",
      "description": "SectionCard에 피드백 전송 기능을 추가하여 Vault와 연동한다.",
      "acceptanceCriteria": [
        "SectionCard props에 onFeedback?: (sectionId: string, feedback: string) => void 추가",
        "'Vault 피드백' 버튼 추가 (AI 초안 버튼 옆)",
        "버튼 클릭 시 피드백 입력 인라인 폼 표시",
        "제출 시 onFeedback 콜백 호출",
        "Typecheck passes"
      ],
      "priority": 12,
      "passes": false,
      "notes": "Wave 1 - 파일: components/editor/SectionCard.tsx"
    },
    {
      "id": "US-013",
      "title": "ApplicationEditor에서 sendFeedbackAndRefetch 연결",
      "description": "ApplicationEditor에서 SectionCard의 피드백을 Vault에 전송하고 내용을 갱신한다.",
      "acceptanceCriteria": [
        "ApplicationEditor에서 SectionCard에 onFeedback 콜백 전달",
        "콜백에서 vaultService.sendFeedbackAndRefetch(slug, sectionId, feedback) 호출",
        "refetch 후 해당 섹션 내용이 UI에 자동 반영",
        "성공 시 Toast 표시: '피드백이 반영되었습니다'",
        "Typecheck passes"
      ],
      "priority": 13,
      "passes": false,
      "notes": "Wave 1 - US-012 의존. 파일: components/ApplicationEditor.tsx"
    },
    {
      "id": "US-014",
      "title": "Vitest 설정 + 유틸리티 단위 테스트",
      "description": "Vitest를 설치하고 핵심 유틸리티 함수의 단위 테스트를 작성한다.",
      "acceptanceCriteria": [
        "package.json devDependencies에 vitest, @testing-library/react, @testing-library/jest-dom, jsdom 추가",
        "vitest.config.ts 생성 (jsdom environment, vite.config.ts 확장)",
        "package.json scripts에 test, test:unit, test:unit:watch 추가",
        "tests/unit/formatters.test.ts 작성: formatKRW, getDday 테스트",
        "tests/unit/constants.test.ts 작성: FIT_SCORE_THRESHOLD 값 검증",
        "npm run test:unit 실행 시 모든 테스트 통과",
        "Typecheck passes"
      ],
      "priority": 14,
      "passes": false,
      "notes": "Wave 4 - 파일: vitest.config.ts(신규), tests/unit/(신규), package.json"
    },
    {
      "id": "US-015",
      "title": "Playwright 테스트 스크립트 + 검증",
      "description": "Playwright E2E 테스트 npm 스크립트를 추가하고 기존 테스트를 검증한다.",
      "acceptanceCriteria": [
        "package.json scripts에 test:e2e, test:e2e:ui 추가",
        "test:e2e는 'npx playwright test' 실행",
        "test:e2e:ui는 'npx playwright test --ui' 실행",
        "기존 5개 spec 파일이 문법 오류 없이 파싱 가능 (npx playwright test --list)",
        "Typecheck passes"
      ],
      "priority": 15,
      "passes": false,
      "notes": "Wave 4 - 파일: package.json"
    }
  ]
}
